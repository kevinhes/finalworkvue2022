(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cac2cf4c"],{"0902":function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),n={class:"container"},r={class:"table mt-4"},o=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{width:"120"}," 訂單編號 "),Object(c["createElementVNode"])("th",{width:"90"},"購買人"),Object(c["createElementVNode"])("th",{width:"90"}," email "),Object(c["createElementVNode"])("th",{width:"90"}," 購買日期 "),Object(c["createElementVNode"])("th",{width:"90"}," 訂單金額 "),Object(c["createElementVNode"])("th",{width:"90"}," 訂單狀態 "),Object(c["createElementVNode"])("th",{width:"120"}," 編輯 ")])],-1),l={key:0,class:"text-success"},i={key:1},d={class:"btn-group"},s=["onClick"],b=["onClick"];function m(e,t,a,m,O,p){var u=Object(c["resolveComponent"])("Pagination"),j=Object(c["resolveComponent"])("OrderModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("table",r,[o,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(O.ordersData,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.id),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.user.name),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.user.email),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(p.timeStapChange(1e3*e.create_at)),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.total),1),Object(c["createElementVNode"])("td",null,[e.is_paid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",l,"已付款")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",i,"未付款"))]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return p.openModal(e)}}," 詳情 ",8,s),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return p.delOrder(e.id)}}," 刪除 ",8,b)])])])})),128))])]),Object(c["createVNode"])(u,{pagination:O.pagination,onPageChange:p.getOrdersData},null,8,["pagination","onPageChange"]),Object(c["createVNode"])(j,{ref:"orderModal","temp-order":O.tempOrder,onDelOrder:p.delOrder,onChangePaid:p.getOrdersData},null,8,["temp-order","onDelOrder","onChangePaid"])])}var O=a("5530"),p=(a("99af"),a("ac1f"),a("5319"),a("1799")),u={class:"modal fade",id:"orderModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},j={class:"modal-dialog modal-xl modal-dialog-centered"},h={class:"modal-content"},g=Object(c["createElementVNode"])("div",{class:"modal-header"},[Object(c["createElementVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},"產品詳情"),Object(c["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),f={class:"modal-body"},E={class:"row border-bottom mb-3"},N={class:"col-6"},V=Object(c["createElementVNode"])("h5",{class:"mb-3"},"訂購人資訊",-1),v={class:"mb-3"},k=Object(c["createElementVNode"])("p",{class:"mb-1"},"訂購人",-1),y={class:"mb-1"},D={class:"mb-3"},C=Object(c["createElementVNode"])("p",{class:"mb-1"},"訂購信箱",-1),w={class:"mb-1"},S={class:"mb-3"},B=Object(c["createElementVNode"])("p",{class:"mb-1"},"訂購電話",-1),M={class:"mb-1"},P={class:""},x=Object(c["createElementVNode"])("p",{class:"mb-1"},"訂購地址",-1),_={class:"mb-1"},$={class:"col-6"},F=Object(c["createElementVNode"])("h5",{class:"mb-3"},"訂單資訊",-1),L={class:"mb-3"},z=Object(c["createElementVNode"])("p",{class:"mb-1"},"訂單編號",-1),I={class:"mb-1"},J={class:"mb-3"},T=Object(c["createElementVNode"])("p",{class:"mb-1"},"訂單時間",-1),Y={class:"mb-1"},q={class:"mb-3"},A=Object(c["createElementVNode"])("p",{class:"mb-1"},"訂單金額",-1),H={class:"mb-1"},U={class:"mb-3"},X=Object(c["createElementVNode"])("p",{class:"mb-1"},"訂單付款狀態",-1),G={class:"form-check"},K={key:0,class:"form-check-label text-success",for:"flexCheckDefault"},Q={key:1,class:"form-check-label",for:"flexCheckDefault"},R=Object(c["createElementVNode"])("h5",null,"訂單內容",-1),W={class:"table"},Z=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{scope:"col"},"編號"),Object(c["createElementVNode"])("th",{scope:"col"},"產品名稱"),Object(c["createElementVNode"])("th",{scope:"col"},"數量"),Object(c["createElementVNode"])("th",{scope:"col"},"金額")])],-1),ee={class:"modal-footer"},te=Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"關閉",-1);function ae(e,t,a,n,r,o){var l,i,d,s;return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",h,[g,Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("div",E,[Object(c["createElementVNode"])("div",N,[V,Object(c["createElementVNode"])("div",v,[k,Object(c["createElementVNode"])("p",y,Object(c["toDisplayString"])(null===(l=r.tempOrderData.user)||void 0===l?void 0:l.name),1)]),Object(c["createElementVNode"])("div",D,[C,Object(c["createElementVNode"])("p",w,Object(c["toDisplayString"])(null===(i=r.tempOrderData.user)||void 0===i?void 0:i.email),1)]),Object(c["createElementVNode"])("div",S,[B,Object(c["createElementVNode"])("p",M,Object(c["toDisplayString"])(null===(d=r.tempOrderData.user)||void 0===d?void 0:d.tel),1)]),Object(c["createElementVNode"])("div",P,[x,Object(c["createElementVNode"])("p",_,Object(c["toDisplayString"])(null===(s=r.tempOrderData.user)||void 0===s?void 0:s.address),1)])]),Object(c["createElementVNode"])("div",$,[F,Object(c["createElementVNode"])("div",L,[z,Object(c["createElementVNode"])("p",I,Object(c["toDisplayString"])(r.tempOrderData.id),1)]),Object(c["createElementVNode"])("div",J,[T,Object(c["createElementVNode"])("p",Y,Object(c["toDisplayString"])(o.timeStapChange(1e3*r.tempOrderData.create_at)),1)]),Object(c["createElementVNode"])("div",q,[A,Object(c["createElementVNode"])("p",H,Object(c["toDisplayString"])(r.tempOrderData.total),1)]),Object(c["createElementVNode"])("div",U,[X,Object(c["createElementVNode"])("div",G,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.tempOrderData.is_paid=e})},null,512),[[c["vModelCheckbox"],r.tempOrderData.is_paid]]),r.tempOrderData.is_paid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("label",K," 已付款 ")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("label",Q," 未付款 "))])])])]),R,Object(c["createElementVNode"])("table",W,[Z,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.tempOrderData.products,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.product.title),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.qty),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.total),1)])})),128))])])]),Object(c["createElementVNode"])("div",ee,[te,Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:t[1]||(t[1]=function(e){return o.delOrder(r.tempOrderData.id)})},"刪除"),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(e){return o.changePaid(r.tempOrderData.id)})},"修改")])])])])}var ce=a("7c2b"),ne=a.n(ce),re={data:function(){return{orderModal:"",tempOrderData:{}}},props:["tempOrder"],methods:{openModal:function(){this.orderModal.show()},timeStapChange:function(e){var t=new Date(e),a="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds());return a},delOrder:function(e){this.$emit("del-order",e),this.orderModal.hide()},changePaid:function(e){var t=this,a={data:Object(O["a"])({},this.tempOrderData)};this.$http.put("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/admin/order/").concat(e),a).then((function(){t.$emit("change-paid",e),t.orderModal.hide()})).catch((function(e){alert(e.response.data.message)}))}},mounted:function(){this.orderModal=new ne.a(document.getElementById("orderModal"))},watch:{tempOrder:function(){this.tempOrderData=Object(O["a"])({},this.tempOrder)}}},oe=a("6b0d"),le=a.n(oe);const ie=le()(re,[["render",ae]]);var de=ie,se={data:function(){return{ordersData:[],pagination:{},tempOrder:{}}},components:{Pagination:p["a"],OrderModal:de},methods:{getOrdersData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/admin/orders?page=").concat(t)).then((function(t){e.ordersData=t.data.orders,e.pagination=t.data.pagination})).catch((function(e){alert(e.response.data.message)}))},delOrder:function(e){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/admin/order/").concat(e)).then((function(e){alert(e.data.message),t.getOrdersData()})).catch((function(e){alert(e.response.data.message)}))},timeStapChange:function(e){var t=new Date(e),a="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate());return a},openModal:function(e){this.tempOrder=Object(O["a"])({},e),this.$refs.orderModal.openModal(e)}},mounted:function(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.getOrdersData()}};const be=le()(se,[["render",m]]);t["default"]=be},1799:function(e,t,a){"use strict";a("99af");var c=a("7a23"),n={"aria-label":"Page navigation example"},r={class:"pagination"},o=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),l=[o],i=["onClick"],d=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),s=[d];function b(e,t,a,o,d,b){return Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",n,[Object(c["createElementVNode"])("ul",r,[Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!1===a.pagination.has_pre}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(e){return b.pageChange(a.pagination.current_page-1)}),["prevent"]))},l)],2),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(a.pagination.total_pages,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:Object(c["normalizeClass"])(["page-item",{active:e===a.pagination.current_page}]),key:"".concat(e,"+").concat(t)},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(c["withModifiers"])((function(t){return b.pageChange(e)}),["prevent"])},Object(c["toDisplayString"])(e),9,i)],2)})),128)),Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!1===a.pagination.has_next}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return b.pageChange(a.pagination.total_pages)}),["prevent"]))}," Last ")],2),Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!1===a.pagination.has_next}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return b.pageChange(a.pagination.current_page+1)}),["prevent"]))},s)],2)])])}var m={props:["pagination"],methods:{pageChange:function(e){this.$emit("page-change",e)}}},O=a("6b0d"),p=a.n(O);const u=p()(m,[["render",b]]);t["a"]=u},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},b0c0:function(e,t,a){var c=a("83ab"),n=a("5e77").EXISTS,r=a("e330"),o=a("9bf2").f,l=Function.prototype,i=r(l.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=r(d.exec),b="name";c&&!n&&o(l,b,{configurable:!0,get:function(){try{return s(d,i(this))[1]}catch(e){return""}}})},b64b:function(e,t,a){var c=a("23e7"),n=a("7b0b"),r=a("df75"),o=a("d039"),l=o((function(){r(1)}));c({target:"Object",stat:!0,forced:l},{keys:function(e){return r(n(e))}})},dbb4:function(e,t,a){var c=a("23e7"),n=a("83ab"),r=a("56ef"),o=a("fc6a"),l=a("06cf"),i=a("8418");c({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,a,c=o(e),n=l.f,d=r(c),s={},b=0;while(d.length>b)a=n(c,t=d[b++]),void 0!==a&&i(s,t,a);return s}})},e439:function(e,t,a){var c=a("23e7"),n=a("d039"),r=a("fc6a"),o=a("06cf").f,l=a("83ab"),i=n((function(){o(1)})),d=!l||i;c({target:"Object",stat:!0,forced:d,sham:!l},{getOwnPropertyDescriptor:function(e,t){return o(r(e),t)}})}}]);
//# sourceMappingURL=chunk-cac2cf4c.99a806a2.js.map